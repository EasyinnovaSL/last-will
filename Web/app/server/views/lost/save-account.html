<%- contentFor('title') %>
LOST PASSWORD

<%- contentFor('content') %>

<section class="cid-qPEl4VRv2L mbr-fullscreen mbr-parallax-background" id="header15-z">


    <div class="mbr-overlay" style="opacity: 0.5; background-color: rgb(7, 59, 76);"></div>

    <div class="container align-right">
        <div class="row">
            <div class="mbr-white col-lg-8 col-md-7 content-container">
                <h1 class="mbr-section-title mbr-bold pb-3 mbr-fonts-style display-1">
                    PROTECT YOU ACCOUNT
                </h1>
                <p class="mbr-text pb-3 mbr-fonts-style display-5">
                   Secure your account address into the blockchain. Provide the following information in order to submit your account.
                    No private information, including your private key, will be stored in our servers during the process.
                    In order to protect your account you need to provide your friends public keys. Aks them their public keys before!

                </p>
            </div>
            <div class="col-lg-4 col-md-5">
                <div class="form-container">
                    <div class="media-container-column" data-form-type="formoid">
                        <div data-form-alert="" hidden="" class="align-center">
                            Thanks for filling out the form!
                        </div>
                        <form class="mbr-form" data-form-title="save-account" method="post"
                              id="save-account">
                            <div data-for="user-private-key">
                                <div class="form-group">
                                    <input type="text" class="form-control px-3" name="privateKey"
                                           data-form-field="privateKey" placeholder="Your Private Key"
                                           required="true" id="private-key-header15-z">
                                </div>
                            </div>

                            <hr>

                            <div data-for="name">
                                <div class="form-group">
                                    <input type="text" class="form-control px-3" name="name"
                                           data-form-field="Name" placeholder="Account Name"
                                           required="true" id="name-header15-z">
                                </div>
                            </div>
                            <div data-for="password">
                                <div class="form-group">
                                    <input type="text" class="form-control px-3" name="password"
                                              data-form-field="Password"
                                              placeholder="Account to protect" required="true"
                                              id="password-header15-z"/>
                                </div>
                            </div>
                            <div data-for="user0">
                                <div class="form-group">
                                    <input type="text" class="form-control px-3" name="user0"
                                           data-form-field="User0"
                                           placeholder="Enter friend public key" required="true"
                                           id="user0-header15-z">
                                </div>
                            </div>
                            <div data-for="user1">
                                <div class="form-group">
                                    <input type="text" class="form-control px-3" name="user1"
                                           data-form-field="User1"
                                           placeholder="Enter friend public key" required="true"
                                           id="user1-header15-z">
                                </div>
                            </div>
                            <div data-for="user2">
                                <div class="form-group">
                                    <input type="text" class="form-control px-3" name="user2"
                                           data-form-field="User2"
                                           placeholder="Enter friend public key"
                                           id="user2-header15-z">
                                </div>
                            </div>
                            <div data-for="user3">
                                <div class="form-group">
                                    <input type="text" class="form-control px-3" name="user3"
                                           data-form-field="User3"
                                           placeholder="Enter friend public key"
                                           id="user3-header15-z">
                                </div>
                            </div>
                            <div data-for="user4">
                                <div class="form-group">
                                    <input type="text" class="form-control px-3" name="user4"
                                           data-form-field="User4"
                                           placeholder="Enter friend public key"
                                           id="user4-header15-z">
                                </div>
                            </div>

                            <span class="input-group-btn">
                                <button href="" type="submit" class="btn btn-secondary btn-form display-4">PROTECT MY ACCOUNT</button>
                                <p><a class="simulate-link" href="javascript:void(0)" id="simulate">* Simulate fill fields</a></p>
                                <p><a class="simulate-link" href="./demo-keys">Demo Keys</a></p>
                            </span>
                        </form>
                        <script>

                          $(document).ready(function () {

                              $("#simulate").on('click', function(){
                                  var now = $.now();
                                  $.cookie('name',now);
                                  $("input[name=privateKey]").val("0xbdf40c2c4048184a26e7916ee50454afe4b7903ee8a6712db17002f4c5a067b5");
                                  $("input[name=name]").val("BTC_"+now);
                                  $("input[name=password]").val("do_a_project_in_one_day_is_possible");
                                  $("input[name=user0]").val("31fc4fd7370267d2b197734681343d456c5990b41620c4309dd112627cfd27c1a443fb2905342bb822dc1c07413eeba2ecb976120c5edc887103222c57a082a1");
                                  $("input[name=user1]").val("562d9182f8be5ed062eae2008d78abfdea5570b46a7a7b05ee1a2e539282c2ba916e3a967c4f65343af3409e15512599c8153caae9135dd1bf932c423140ffdb");
                              });

                            $("#save-account").submit(function (event) {

                              // get the form data
                              // there are many ways to get this data using jQuery (you can use the class or id also)
                              var formData = $("#save-account").serialize();
                              console.log(formData);
                              // process the form
                              $.ajax({
                                       type: 'POST', // define the type of HTTP verb we want to use (POST for our form)
                                       url: '/eth/save-password', // the url where we want to POST
                                       data: formData, // our data object
                                       dataType: 'json', // what type of data do we expect back from the server
                                       encode: true
                                     })
                              // using the done promise callback
                                .done(function (data) {

                                  $('#OkModal').modal('show');
                                  $("#save-account")[0].reset();
                                })
                                .fail(function (data) {

                                  $('#ErrorModal').find('.modal-body').find('p')
                                    .html('Something went wrong. ' + data.responseJSON.message);
                                  $('#ErrorModal').modal('show');

                                })

                              // stop the form from submitting the normal way and refreshing the page
                              event.preventDefault();
                            });
                          });
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal HTML -->
    <div id="OkModal" class="modal fade">
        <div class="modal-dialog modal-confirm">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="icon-box">
                        <i class="material-icons">&#xE876;</i>
                    </div>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                </div>
                <div class="modal-body text-center">
                    <h4>Great!</h4>
                    <p>Your account has been created successfully.</p>
                    <button class="btn btn-success" data-dismiss="modal">
                        <span>Continue</span> <i class="material-icons">&#xE5C8;</i></button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal HTML -->
    <div id="ErrorModal" class="modal fade">
        <div class="modal-dialog modal-error">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="icon-box">
                        <i class="material-icons">&#xE5CD;</i>
                    </div>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                </div>
                <div class="modal-body text-center">
                    <h4>Ooops!</h4>
                    <p></p>
                    <button class="btn btn-success" data-dismiss="modal">Try Again</button>
                </div>
            </div>
        </div>
    </div>
</section>
